<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Workflowy MCP</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                background-color: #000;
                color: #fff;
                font-family:
                    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                    Helvetica, Arial, sans-serif;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 2rem;
            }
            h1 {
                font-size: 3rem;
                font-weight: 700;
                margin-bottom: 1rem;
            }
            .subtitle {
                font-size: 1.25rem;
                color: #999;
                margin-bottom: 2rem;
            }
            .card {
                background: #111;
                border: 1px solid #333;
                border-radius: 8px;
                padding: 1.5rem;
                max-width: 600px;
                width: 100%;
                margin-bottom: 1.5rem;
            }
            .card h2 {
                font-size: 1.1rem;
                margin-bottom: 1rem;
                color: #fff;
            }
            .card p {
                font-size: 0.95rem;
                color: #999;
                line-height: 1.6;
                margin-bottom: 0.75rem;
            }
            .card code {
                background: #222;
                padding: 0.2rem 0.4rem;
                border-radius: 4px;
                font-family: monospace;
                font-size: 0.9rem;
                color: #0ff;
            }
            .card pre {
                background: #1a1a1a;
                padding: 1rem;
                border-radius: 4px;
                overflow-x: auto;
                font-size: 0.85rem;
                line-height: 1.5;
                margin-top: 0.5rem;
            }
            a {
                color: #0ff;
                text-decoration: none;
            }
            a:hover {
                text-decoration: underline;
            }
            .github {
                font-size: 1rem;
                color: #666;
            }
        </style>
    </head>
    <body>
        <h1>Workflowy MCP</h1>
        <p class="subtitle">
            An MCP server for connecting AI assistants to your Workflowy account
        </p>

        <div class="card">
            <h2>Step 1: Set Up Access Secret (Vercel)</h2>
            <p>
                To secure your MCP server, set an access secret in your Vercel
                project settings:
            </p>
            <p>
                1. Go to your Vercel project &rarr; Settings &rarr; Environment
                Variables
            </p>
            <p>2. Add a new variable:</p>
            <pre>
Name:  ACCESS_SECRET
Value: abc123mysecret</pre
            >
            <p>
                Generate a secure secret using:
                <code>openssl rand -hex 32</code>
            </p>
            <p>3. Redeploy your project for changes to take effect</p>
        </div>

        <div class="card">
            <h2>Step 2: Get Your Workflowy API Key</h2>
            <p>
                Get your API key from
                <a href="https://beta.workflowy.com/api-reference/"
                    >beta.workflowy.com/api-reference</a
                >
            </p>
        </div>

        <div class="card">
            <h2>Step 3: Configure Your MCP Client</h2>
            <p>
                In your MCP client, you combine both values with a colon in the
                Authorization header:
            </p>
            <pre>Authorization: Bearer ACCESS_SECRET:WORKFLOWY_API_KEY</pre>
            <p>
                For example, if your access secret is
                <code>abc123mysecret</code> and your Workflowy API key is
                <code>wf_xyz789</code>, the header would be:
            </p>
            <pre>Authorization: Bearer abc123mysecret:wf_xyz789</pre>
        </div>

        <div class="card">
            <h2>Example Configuration</h2>
            <p>For Claude Code (<code>~/.claude.json</code>):</p>
            <pre>
{
  "projects": {
    "/path/to/your/project": {
      "mcpServers": {
        "workflowy": {
          "type": "streamable-http",
          "url": "https://workflowy-mcp-mauve.vercel.app/api/mcp",
          "headers": {
            "Authorization": "Bearer abc123mysecret:wf_xyz789"
          }
        }
      }
    }
  }
}</pre
            >
            <p>
                Replace <code>abc123mysecret</code> with your access secret from
                Vercel, and <code>wf_xyz789</code> with your Workflowy API key.
            </p>
        </div>

        <div class="card">
            <h2>Summary</h2>
            <p><strong>In Vercel:</strong> Store the access secret by itself</p>
            <pre>ACCESS_SECRET = abc123mysecret</pre>
            <p><strong>In your client:</strong> Combine both with a colon</p>
            <pre>Bearer abc123mysecret:wf_xyz789</pre>
        </div>

        <p class="github">
            <a href="https://github.com/rodolfo-terriquez/workflowy-mcp"
                >View setup instructions on GitHub</a
            >
        </p>
    </body>
</html>
